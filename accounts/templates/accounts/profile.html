{% extends 'base.html' %}
{% block style %}
<style>
  .img-wrapper {
    position: relative;
    width: 100%;
    padding-bottom: 100%;
  }
  
  .img-wrapper img {
    position: absolute;
    top: 0;
    left: 0;
    transform: translate(50, 50);
    width: 100%;
    height: 100%;
    object-fit: cover;
    margin: auto;
  }
</style>
{% endblock style %}

{% load static %}
{% block content %}
<div class="container">
  <h1>Profile</h1>
  <div class="row mb-3">
    <div class="col-2 p-3">
      {% if user.profile_img %}
      <div class="img-wrapper">
        <img src="{{ user.profile_img.url }}" alt="{{ user.profile_img }}">
      </div>
      {% else %}
      <div class="img-wrapper">
        <img src="{% static 'default-profile.png' %}" alt="default-profile">
      </div>
      {% endif %}
    </div>
    <div class="col-10 p-3">
      <p>이름 - {{ user }}</p>
      <p>이메일 - {{ user.email }}</p>
    </div>
  </div>
  <h3 class="mb-3">리뷰목록</h3>
  {% for review in reviews %}
  <p>후기 번호 - {{ review.pk }}</p>
  <p>영화이름 - {{ review.movie }}</p>
  <a href="{% url 'reviews:detail' review.pk %}">[Detail]</a>
  {% empty %}
  <p class="text-center text-secondary">아직 작성한 후기가 없습니다</p>
  {% endfor %}
  <hr>
  <a href="{% url 'reviews:index' %}">[Index]</a>
</div>
{% endblock content %}
